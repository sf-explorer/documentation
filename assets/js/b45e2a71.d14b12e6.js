"use strict";(self.webpackChunkdocusaurus_lms_demo=self.webpackChunkdocusaurus_lms_demo||[]).push([[5072],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(96540);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}},58599:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Features/Prompt Builder/execution-history","title":"Execution History","description":"Track and monitor prompt template usage, performance, and costs in production.","source":"@site/genai/Features/8. Prompt Builder/execution-history.md","sourceDirName":"Features/8. Prompt Builder","slug":"/prompt-builder/execution-history","permalink":"/genai/prompt-builder/execution-history","draft":false,"unlisted":false,"editUrl":"https://github.com/sf-explorer/documentation/tree/master/genai/Features/8. Prompt Builder/execution-history.md","tags":[],"version":"current","lastUpdatedAt":1768059973000,"sidebarPosition":4,"frontMatter":{"id":"execution-history","slug":"/prompt-builder/execution-history","title":"Execution History","sidebar_label":"Execution History","sidebar_position":4,"description":"Track and monitor prompt template usage, performance, and costs in production.","keywords":["execution history","monitoring","tracking","performance"]},"sidebar":"genaiSidebar","previous":{"title":"Testing Templates","permalink":"/genai/prompt-builder/testing-templates"},"next":{"title":"Token Optimization","permalink":"/genai/prompt-builder/token-optimization"}}');var r=i(74848),s=i(28453);const o={id:"execution-history",slug:"/prompt-builder/execution-history",title:"Execution History",sidebar_label:"Execution History",sidebar_position:4,description:"Track and monitor prompt template usage, performance, and costs in production.",keywords:["execution history","monitoring","tracking","performance"]},l="Execution History",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Execution History View",id:"execution-history-view",level:2},{value:"What&#39;s Tracked",id:"whats-tracked",level:2},{value:"Per Execution",id:"per-execution",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"1. Debugging Production Issues",id:"1-debugging-production-issues",level:3},{value:"2. Monitoring Token Usage",id:"2-monitoring-token-usage",level:3},{value:"3. Version Performance Comparison",id:"3-version-performance-comparison",level:3},{value:"Execution Details",id:"execution-details",level:2},{value:"Full History in Data Cloud",id:"full-history-in-data-cloud",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function a(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"execution-history",children:"Execution History"})}),"\n",(0,r.jsx)(n.p,{children:"Track how your prompt templates are being used in production."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Execution History shows the last 10 calls"})," from production with full details:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Token usage per call"}),"\n",(0,r.jsx)(n.li,{children:"Response times"}),"\n",(0,r.jsx)(n.li,{children:"Model and version used"}),"\n",(0,r.jsx)(n.li,{children:"User who triggered it"}),"\n",(0,r.jsx)(n.li,{children:"Full request/response data"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"execution-history-view",children:"Execution History View"}),"\n",(0,r.jsx)(n.h2,{id:"whats-tracked",children:"What's Tracked"}),"\n",(0,r.jsx)(n.h3,{id:"per-execution",children:"Per Execution"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Timestamp"})}),(0,r.jsx)(n.td,{children:"When template was executed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Version"})}),(0,r.jsx)(n.td,{children:"Which template version"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Model"})}),(0,r.jsx)(n.td,{children:"AI model used"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Tokens"})}),(0,r.jsx)(n.td,{children:"Input + output tokens"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"User"})}),(0,r.jsx)(n.td,{children:"Who triggered execution"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Variables"})}),(0,r.jsx)(n.td,{children:"Input values provided"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Response"})}),(0,r.jsx)(n.td,{children:"AI-generated output"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Duration"})}),(0,r.jsx)(n.td,{children:"Response time"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(n.h3,{id:"1-debugging-production-issues",children:"1. Debugging Production Issues"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scenario:"})," Agent is getting wrong responses"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Steps:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open template in GenAI Explorer"}),"\n",(0,r.jsx)(n.li,{children:"Scroll to Execution History"}),"\n",(0,r.jsx)(n.li,{children:"Find the problematic execution"}),"\n",(0,r.jsx)(n.li,{children:'Click "View Details"'}),"\n",(0,r.jsx)(n.li,{children:"Check variable values"}),"\n",(0,r.jsx)(n.li,{children:"Identify the issue (empty, wrong, malformed)"}),"\n",(0,r.jsx)(n.li,{children:"Fix and test"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-monitoring-token-usage",children:"2. Monitoring Token Usage"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scenario:"})," Want to reduce costs"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Steps:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Review last 10 executions"}),"\n",(0,r.jsx)(n.li,{children:"Note average token count"}),"\n",(0,r.jsx)(n.li,{children:"Identify high-token calls"}),"\n",(0,r.jsx)(n.li,{children:"Look for patterns (long variables, verbose output)"}),"\n",(0,r.jsx)(n.li,{children:"Optimize template"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"See:"})," ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"./token-optimization",children:"Token Optimization"})})," for strategies"]}),"\n",(0,r.jsx)(n.h3,{id:"3-version-performance-comparison",children:"3. Version Performance Comparison"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scenario:"})," New template version deployed"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Steps:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Compare token counts between versions"}),"\n",(0,r.jsx)(n.li,{children:"Check response times"}),"\n",(0,r.jsx)(n.li,{children:"Review output quality"}),"\n",(0,r.jsx)(n.li,{children:"Decide if new version is better"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"execution-details",children:"Execution Details"}),"\n",(0,r.jsx)(n.p,{children:'Click "View Details" to see:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "executionTime": "2025-12-10T10:30:00Z",\n  "templateVersion": "v2",\n  "model": "GPT-4 Omni",\n  "tokens": {\n    "input": 150,\n    "output": 300,\n    "total": 450\n  },\n  "duration": "2.3s",\n  "user": "john.smith@company.com",\n  "variables": {\n    "Customer_Name": "John Smith",\n    "Product": "Enterprise License"\n  },\n  "finalPrompt": "You are a customer service agent...",\n  "response": "Hello John Smith! I\'d be happy..."\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"full-history-in-data-cloud",children:"Full History in Data Cloud"}),"\n",(0,r.jsxs)(n.p,{children:["The last 10 executions are shown in GenAI Explorer.",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"For complete history"}),", query Data Cloud:"]}),"\n",(0,r.jsx)(n.admonition,{title:"Example Query",type:"info"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT \n  req.gatewayRequestId__c,\n  req.prompt__c,\n  req.maskedPrompt__c,\n  req.userId__c,\n  req.totalTokens__c,\n  req.promptTokens__c,\n  req.completionTokens__c,\n  gen.responseText__c,\n  req.promptTemplateDevName__c,\n  req.promptTemplateVersionNo__c,\n  req.timestamp__c,\n  req.model__c,\n  req.provider__c\nFROM\n  GenAIGatewayRequest__dlm req,\n  GenAIGatewayResponse__dlm res,\n  GenAIGeneration__dlm gen\nWHERE \n  req.gatewayRequestId__c = res.generationRequestId__c\n  AND res.generationResponseId__c = gen.generationResponseId__c\n  AND req.promptTemplateDevName__c = '\"${id}\"'\nORDER BY req.timestamp__c DESC\nLIMIT 10\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"See:"})," ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/genai/data-cloud-integration",children:"Data Cloud Integration"})})," for more query examples"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"./testing-templates",children:"Testing Templates"})})," - Pre-deployment testing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"./token-optimization",children:"Token Optimization"})})," - Reduce costs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"./best-practices",children:"Best Practices"})})," - Monitoring tips"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Regular monitoring ensures templates perform well and stay cost-effective."})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);