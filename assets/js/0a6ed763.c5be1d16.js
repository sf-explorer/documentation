"use strict";(self.webpackChunkdocusaurus_lms_demo=self.webpackChunkdocusaurus_lms_demo||[]).push([[4685,406],{65276:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(67294),a=n(37253);const i=function(e){return r.createElement(a.yB,e)}},14197:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(67294),a=n(61753),i=n(54939),l=n(91262);const s=e=>r.createElement(l.Z,{fallback:r.createElement("div",null,"Loading...")},(()=>{const t=n(65276).Z;return r.createElement(t,e)})),o=async e=>{const t=await fetch("https://swapi-graphql.netlify.app/.netlify/functions/index",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"});return t.json().catch((()=>t.text()))};function u(e){let{}=e;const[t,n]=(0,r.useState)("select Id, Name, (select Name from Opportunities) from Account limit 3"),[l,u]=(0,r.useState)(void 0);return(0,r.useEffect)((()=>{try{const e=(0,a.mB)(t);console.log("query",e);const n=(0,i.default)(e);u(n)}catch(e){console.error(e),u(e.message||JSON.stringify(e))}}),[t]),r.createElement(r.Fragment,null,r.createElement("textarea",{name:"postContent",value:t,onChange:e=>n(e.target.value),style:{width:"100%"}}),r.createElement(s,{query:l,fetcher:o}))}},54939:(e,t,n)=>{function r(e){var t;const{type:n,...a}=e;return"FieldRelationship"===n?`                    ${e.relationships[0]} {\n                        ${r(a)}\n                    }`:e.field?e.field.endsWith("Id")?e.field:`                    ${e.field} {\n                        value\n                    }`:"tolabel"===(null==(t=e.functionName)?void 0:t.toLowerCase())&&e.parameters?`                    ${e.parameters[0]} {\n                        display\n                    }`:"FieldSubquery"===e.type?i(e.subquery):void 0}function a(e){return!e.where&&e.limit?`(first: ${e.limit})`:e.where?`(${e.limit?`first: ${e.limit},`:""}\n        where: { ${function(e){const t=(Array.isArray(e.value),JSON.stringify(e.value));return`${e.field}: { ${function(e){switch(e.operator){case"=":default:return"eq";case"!=":return"neq";case"like":return"like";case"IN":return"in"}}(e)} : ${null==t?void 0:t.replaceAll("'","")} }  `}(e.where.left)} }\n        ) `:""}function i(e){var t;return` ${e.sObject||e.relationshipName} ${a(e)} {\n        edges {\n          node {\n${null==(t=e.fields)?void 0:t.map(r).join("\n")}\n          }\n        }\n      }`}function l(e){return`query ${e.sObject}s {\n        uiapi {\n          query {\n            ${i(e)}\n          }\n        }\n      }`}n.r(t),n.d(t,{default:()=>l})}}]);