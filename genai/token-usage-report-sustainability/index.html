<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-genai docs-version-current docs-doc-page docs-doc-id-Features/token-usage-report-sustainability" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Token Usage Report - Sustainability Guide | SF Explorer</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="http://info.sf-explorer.com/img/demo.png"><meta data-rh="true" name="twitter:image" content="http://info.sf-explorer.com/img/demo.png"><meta data-rh="true" property="og:url" content="http://info.sf-explorer.com/genai/token-usage-report-sustainability"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-genai-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-genai-current"><meta data-rh="true" property="og:title" content="Token Usage Report - Sustainability Guide | SF Explorer"><meta data-rh="true" name="description" content="Comprehensive methodology for sustainability teams using the Token Usage Report to reduce environmental impact while maintaining business value."><meta data-rh="true" property="og:description" content="Comprehensive methodology for sustainability teams using the Token Usage Report to reduce environmental impact while maintaining business value."><meta data-rh="true" name="keywords" content="sustainability,CO2 emissions,environmental impact,quality metrics,user feedback"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://info.sf-explorer.com/genai/token-usage-report-sustainability"><link data-rh="true" rel="alternate" href="http://info.sf-explorer.com/genai/token-usage-report-sustainability" hreflang="en"><link data-rh="true" rel="alternate" href="http://info.sf-explorer.com/genai/token-usage-report-sustainability" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Sustainability Guide","item":"http://info.sf-explorer.com/genai/token-usage-report-sustainability"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SF Explorer RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SF Explorer Atom Feed"><link rel="stylesheet" href="/assets/css/styles.be852234.css">
<script src="/assets/js/runtime~main.e51bc7e9.js" defer="defer"></script>
<script src="/assets/js/main.3d322a02.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/apple-touch-icon.png" alt="Explorer" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/apple-touch-icon.png" alt="Explorer" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SF Explorer</b></a><a class="navbar__item navbar__link" href="/docs/intro">Explorer</a><a class="navbar__item navbar__link" href="/devops">DevOps Center</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/genai">GenAI Explorer</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div>Loading...</div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/genai/">GenAI Explorer Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/genai/faq">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/genai/conversation-history">Features</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/genai/conversation-history">Conversation History</a><button aria-label="Expand sidebar category &#x27;Conversation History&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/genai/configuration-explorer">Agent blueprint</a><button aria-label="Expand sidebar category &#x27;Agent blueprint&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/genai/atlas-reasoning-engine">Atlas Reasoning Engine</a><button aria-label="Expand sidebar category &#x27;Atlas Reasoning Engine&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/genai/test-case-editing">Testing Center</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/genai/chat-with-agents">Chat with Agents</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/genai/einstein-model-testing">Einstein Model Testing</a><button aria-label="Expand sidebar category &#x27;Einstein Model Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/genai/data-cloud-integration">Data Cloud Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/genai/rag-retriever">RAG and Retriever</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/genai/prompt-builder">Prompt Builder</a><button aria-label="Expand sidebar category &#x27;Prompt Builder&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/genai/token-usage-report-sustainability">Sustainability Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/genai/token-usage-report">Token Usage Report</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Features</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Sustainability Guide</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Token Usage Report - Sustainability Guide</h1></header>
<p>Sustainability teams face a unique challenge: <strong>reducing environmental impact while maintaining business value</strong>. The Token Usage Report provides a comprehensive framework that goes beyond simple CO2 tracking to understand the complete picture of AI agent performance.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-challenge-beyond-simple-metrics">The Challenge: Beyond Simple Metrics<a href="#the-challenge-beyond-simple-metrics" class="hash-link" aria-label="Direct link to The Challenge: Beyond Simple Metrics" title="Direct link to The Challenge: Beyond Simple Metrics">​</a></h2>
<p>Traditional sustainability reporting focuses solely on emissions:</p>
<ul>
<li>❌ <strong>CO2 tracking alone</strong> doesn&#x27;t tell you if emissions are justified</li>
<li>❌ <strong>Cost reduction</strong> might sacrifice quality or user satisfaction</li>
<li>❌ <strong>No context</strong> about whether high emissions correlate with high value</li>
</ul>
<p><strong>The Reality</strong>: High emissions might be acceptable if they deliver exceptional quality and user satisfaction. Low emissions might be wasteful if they result in poor user experience and low adoption.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="our-holistic-approach">Our Holistic Approach<a href="#our-holistic-approach" class="hash-link" aria-label="Direct link to Our Holistic Approach" title="Direct link to Our Holistic Approach">​</a></h2>
<p>The Token Usage Report enables sustainability teams to make <strong>informed decisions</strong> by combining three critical dimensions:</p>
<ol>
<li><strong>Environmental Impact</strong> (CO2 Emissions) - What&#x27;s the cost to the planet?</li>
<li><strong>Quality Performance</strong> (Quality Scores) - Are we delivering value?</li>
<li><strong>User Satisfaction</strong> (Feedback) - Are users happy with the results?</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="methodology-from-theory-to-practice">Methodology: From Theory to Practice<a href="#methodology-from-theory-to-practice" class="hash-link" aria-label="Direct link to Methodology: From Theory to Practice" title="Direct link to Methodology: From Theory to Practice">​</a></h2>
<p>Our approach follows a systematic methodology that connects theory (sustainability goals) with practice (actionable optimization):</p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-process">Step-by-Step Process<a href="#step-by-step-process" class="hash-link" aria-label="Direct link to Step-by-Step Process" title="Direct link to Step-by-Step Process">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phase-1-establish-baseline-week-1">Phase 1: Establish Baseline (Week 1)<a href="#phase-1-establish-baseline-week-1" class="hash-link" aria-label="Direct link to Phase 1: Establish Baseline (Week 1)" title="Direct link to Phase 1: Establish Baseline (Week 1)">​</a></h3>
<p><strong>Objective</strong>: Understand current state across all dimensions</p>
<ol>
<li>
<p><strong>Export Current Metrics</strong></p>
<ul>
<li>CO2 emissions by agent (from &quot;CO2 by Agents&quot;)</li>
<li>Weekly trends (from &quot;CO2 by Agents/Week&quot;)</li>
<li>Quality scores (from &quot;Median Quality Score&quot;)</li>
<li>Feedback distribution (from &quot;Feedbacks&quot;)</li>
<li>Topic usage patterns (from &quot;Covered Topics Week by Week&quot;)</li>
</ul>
</li>
<li>
<p><strong>Document Baselines</strong></p>
<ul>
<li>Total CO2 emissions per agent</li>
<li>Average quality scores</li>
<li>Feedback ratios (positive/negative)</li>
<li>Topic usage frequency</li>
</ul>
</li>
<li>
<p><strong>Set Targets</strong></p>
<ul>
<li>Define sustainability goals (e.g., &quot;Reduce CO2 by 30% in 3 months&quot;)</li>
<li>Set quality thresholds (e.g., &quot;Maintain quality scores above 3.5/5&quot;)</li>
<li>Define feedback targets (e.g., &quot;Achieve 80% positive feedback&quot;)</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phase-2-analyze-correlations-week-2">Phase 2: Analyze Correlations (Week 2)<a href="#phase-2-analyze-correlations-week-2" class="hash-link" aria-label="Direct link to Phase 2: Analyze Correlations (Week 2)" title="Direct link to Phase 2: Analyze Correlations (Week 2)">​</a></h3>
<p><strong>Objective</strong>: Understand relationships between metrics</p>
<ol>
<li>
<p><strong>Cross-Reference Data</strong></p>
<ul>
<li>Which agents have high CO2 but low quality?</li>
<li>Which topics have high cost but poor feedback?</li>
<li>Are there agents with low CO2 and high quality? (success patterns)</li>
</ul>
</li>
<li>
<p><strong>Identify Patterns</strong></p>
<ul>
<li><strong>Waste Patterns</strong>: High CO2 + Low Quality + Poor Feedback</li>
<li><strong>Value Patterns</strong>: High CO2 + High Quality + Good Feedback</li>
<li><strong>Efficiency Patterns</strong>: Low CO2 + High Quality + Good Feedback</li>
<li><strong>Underutilized Patterns</strong>: Low CO2 + Low Quality + Poor Feedback</li>
</ul>
</li>
<li>
<p><strong>Prioritize Actions</strong></p>
<ul>
<li>Rank agents/topics by optimization potential</li>
<li>Focus on high-impact, low-effort improvements first</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phase-3-implement-optimizations-weeks-3-8">Phase 3: Implement Optimizations (Weeks 3-8)<a href="#phase-3-implement-optimizations-weeks-3-8" class="hash-link" aria-label="Direct link to Phase 3: Implement Optimizations (Weeks 3-8)" title="Direct link to Phase 3: Implement Optimizations (Weeks 3-8)">​</a></h3>
<p><strong>Objective</strong>: Reduce emissions while maintaining or improving quality</p>
<p><strong>For Priority 1 (High CO2 + Low Quality + Poor Feedback):</strong></p>
<ol>
<li>
<p><strong>Model Optimization</strong></p>
<ul>
<li>Test lower-emission models (e.g., GPT-4o Mini vs GPT-4 Omni)</li>
<li>Use Einstein Model Testing to compare emissions and quality</li>
<li>Switch to more efficient models where quality remains acceptable</li>
</ul>
</li>
<li>
<p><strong>Prompt Optimization</strong></p>
<ul>
<li>Refine prompts to reduce token usage</li>
<li>Remove unnecessary context</li>
<li>Use more efficient prompt structures</li>
</ul>
</li>
<li>
<p><strong>Topic Refinement</strong></p>
<ul>
<li>Review topic configurations</li>
<li>Eliminate redundant topics</li>
<li>Optimize topic routing</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="baseline-optimization-reducing-prompt-size">Baseline Optimization: Reducing Prompt Size<a href="#baseline-optimization-reducing-prompt-size" class="hash-link" aria-label="Direct link to Baseline Optimization: Reducing Prompt Size" title="Direct link to Baseline Optimization: Reducing Prompt Size">​</a></h2>
<p>One of the most effective ways to reduce CO2 emissions is to <strong>optimize the baseline prompt size</strong>. Different agent configuration elements—topic classifications, instructions, and action descriptions—are sent to the LLM at different stages of the Atlas reasoning pipeline, directly impacting token consumption and emissions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-configuration-is-sent-to-the-llm">How Configuration is Sent to the LLM<a href="#how-configuration-is-sent-to-the-llm" class="hash-link" aria-label="Direct link to How Configuration is Sent to the LLM" title="Direct link to How Configuration is Sent to the LLM">​</a></h3>
<p>The Atlas Reasoning Engine processes queries through six stages, and different configuration elements are included at different stages:</p>
<ul>
<li><strong>Topic Classifications</strong>: Sent during <strong>Query Evaluation</strong> (Stage 2) when determining which topic matches the user&#x27;s intent</li>
<li><strong>Topic Instructions</strong>: Sent during <strong>Query Planning &amp; Execution</strong> (Stage 4) when the LLM reasons within a specific topic</li>
<li><strong>Action Descriptions</strong>: Sent during <strong>Query Planning &amp; Execution</strong> (Stage 4) when the LLM considers which actions to invoke</li>
</ul>
<p><strong>Important</strong>: Not all configuration is sent with every request. The Atlas engine intelligently includes only relevant topics and actions based on the query context. However, verbose configurations still impact token usage significantly at their respective stages.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem-prompt-bloat">The Problem: Prompt Bloat<a href="#the-problem-prompt-bloat" class="hash-link" aria-label="Direct link to The Problem: Prompt Bloat" title="Direct link to The Problem: Prompt Bloat">​</a></h3>
<p>When configuring AI agents, it&#x27;s common to include:</p>
<ul>
<li><strong>Topic Classifications</strong>: Detailed descriptions for each topic (sent during topic evaluation)</li>
<li><strong>Instructions</strong>: Comprehensive guidelines for the agent (sent during topic reasoning)</li>
<li><strong>Action Descriptions</strong>: Detailed explanations of available actions (sent when actions are considered)</li>
</ul>
<p><strong>The Impact</strong>: If you have dozens of topics, each with long descriptions, plus extensive instructions and action details, the relevant portions are sent to the LLM at the appropriate stages. Verbose configurations can easily add thousands of tokens per request, multiplying across interactions and significantly increasing CO2 emissions.</p>
<p><strong>Example Scenario:</strong></p>
<p>During <strong>Query Evaluation (Stage 2)</strong>: All topic classifications are evaluated</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- 25 topics × 200 tokens each = 5,000 tokens (sent for topic matching)</span><br></span></code></pre></div></div>
<p>During <strong>Query Planning &amp; Execution (Stage 4)</strong>: Selected topic&#x27;s instructions and actions</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- Selected topic instructions: 1,500 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Available actions (15) × 150 tokens each = 2,250 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- User message: 50 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Total for Stage 4: ~3,800 tokens</span><br></span></code></pre></div></div>
<p><strong>Total per request</strong>: ~8,800 tokens across all stages</p>
<p>With 1,000 requests/day:</p>
<ul>
<li>Daily tokens: 8.8M tokens</li>
<li>CO2 emissions: ~440g CO2/day</li>
<li>Monthly: ~13.2kg CO2</li>
</ul>
<p><strong>Note</strong>: While not all topics are sent at every stage, verbose configurations still significantly impact token usage at their respective stages.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="solution-optimize-baseline-configuration">Solution: Optimize Baseline Configuration<a href="#solution-optimize-baseline-configuration" class="hash-link" aria-label="Direct link to Solution: Optimize Baseline Configuration" title="Direct link to Solution: Optimize Baseline Configuration">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-clearer-topic-classification">1. Clearer Topic Classification<a href="#1-clearer-topic-classification" class="hash-link" aria-label="Direct link to 1. Clearer Topic Classification" title="Direct link to 1. Clearer Topic Classification">​</a></h4>
<p><strong>Problem</strong>: Verbose topic descriptions increase prompt size unnecessarily.</p>
<p><strong>Before (Verbose):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Topic: &quot;Customer Order Status Inquiry&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Description: &quot;This topic handles customer inquiries about the status of their orders. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Users may ask questions such as: Where is my order? When will my order arrive? </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">What is the tracking number for my order? The agent should provide accurate and </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">timely information about order status, shipping details, and estimated delivery dates. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If the order is delayed, the agent should explain the reason and provide next steps.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tokens: ~120 tokens</span><br></span></code></pre></div></div>
<p><strong>After (Optimized):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Topic: &quot;Order Status&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Description: &quot;Customer inquiries about order tracking, shipping, and delivery dates.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tokens: ~15 tokens</span><br></span></code></pre></div></div>
<p><strong>Impact</strong>: 88% reduction in tokens (120 → 15 tokens per topic)</p>
<p><strong>Best Practices:</strong></p>
<ul>
<li>Use concise, action-oriented descriptions</li>
<li>Remove examples that the LLM can infer</li>
<li>Focus on distinguishing characteristics only</li>
<li>Use keywords instead of full sentences where possible</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-clearer-instructions">2. Clearer Instructions<a href="#2-clearer-instructions" class="hash-link" aria-label="Direct link to 2. Clearer Instructions" title="Direct link to 2. Clearer Instructions">​</a></h4>
<p><strong>Problem</strong>: Redundant or overly detailed instructions bloat the prompt.</p>
<p><strong>Before (Verbose):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Instructions: &quot;You are a helpful customer service agent. Always be polite and </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">professional. When customers ask questions, provide accurate information. If you </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">don&#x27;t know the answer, ask clarifying questions. Always confirm understanding before </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">proceeding. Use clear and concise language. Avoid technical jargon unless necessary. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Be empathetic to customer concerns. Follow up to ensure satisfaction.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tokens: ~80 tokens</span><br></span></code></pre></div></div>
<p><strong>After (Optimized):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Instructions: &quot;Polite, accurate, empathetic. Ask clarifying questions when needed.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tokens: ~12 tokens</span><br></span></code></pre></div></div>
<p><strong>Impact</strong>: 85% reduction in tokens (80 → 12 tokens)</p>
<p><strong>Best Practices:</strong></p>
<ul>
<li>Remove redundant statements (LLMs understand &quot;helpful&quot; implies politeness)</li>
<li>Use bullet points or keywords instead of full sentences</li>
<li>Focus on unique requirements, not general AI behavior</li>
<li>Move common instructions to system-level configuration</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-clearer-action-descriptions">3. Clearer Action Descriptions<a href="#3-clearer-action-descriptions" class="hash-link" aria-label="Direct link to 3. Clearer Action Descriptions" title="Direct link to 3. Clearer Action Descriptions">​</a></h4>
<p><strong>Problem</strong>: Overly detailed action descriptions increase prompt size for every action.</p>
<p><strong>Before (Verbose):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Action: &quot;GetOrderStatus&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Description: &quot;This action retrieves the current status of a customer order from </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">the order management system. It requires an order ID as input parameter. The action </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">will return the order status (pending, processing, shipped, delivered), tracking </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">number if available, estimated delivery date, and any relevant notes about delays </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">or issues. Use this action when customers ask about their order status.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tokens: ~70 tokens</span><br></span></code></pre></div></div>
<p><strong>After (Optimized):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Action: &quot;GetOrderStatus&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Description: &quot;Retrieves order status, tracking, delivery date. Requires: orderId&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tokens: ~12 tokens</span><br></span></code></pre></div></div>
<p><strong>Impact</strong>: 83% reduction in tokens (70 → 12 tokens per action)</p>
<p><strong>Best Practices:</strong></p>
<ul>
<li>Focus on what the action does, not how it works internally</li>
<li>List required parameters concisely</li>
<li>Remove examples and use-case explanations</li>
<li>Use consistent formatting for all actions</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="real-world-example-optimization-impact">Real-World Example: Optimization Impact<a href="#real-world-example-optimization-impact" class="hash-link" aria-label="Direct link to Real-World Example: Optimization Impact" title="Direct link to Real-World Example: Optimization Impact">​</a></h3>
<p><strong>Before Optimization:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Agent Configuration:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 25 topics × 120 tokens = 3,000 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Instructions: 80 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 15 actions × 70 tokens = 1,050 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- User message: 50 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Total per request: ~4,180 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Monthly (10,000 requests):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Total tokens: 41.8M tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- CO2 emissions: ~2.09kg CO2</span><br></span></code></pre></div></div>
<p><strong>After Optimization:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Agent Configuration:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 25 topics × 15 tokens = 375 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Instructions: 12 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 15 actions × 12 tokens = 180 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- User message: 50 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Total per request: ~617 tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Monthly (10,000 requests):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Total tokens: 6.17M tokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- CO2 emissions: ~0.31kg CO2</span><br></span></code></pre></div></div>
<p><strong>Results:</strong></p>
<ul>
<li>✅ <strong>85% reduction in prompt size</strong> (4,180 → 617 tokens)</li>
<li>✅ <strong>85% reduction in CO2 emissions</strong> (2.09kg → 0.31kg CO2/month)</li>
<li>✅ <strong>Quality maintained</strong>: Clearer, more focused prompts often improve quality</li>
<li>✅ <strong>Cost savings</strong>: Reduced token usage = lower costs</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-strategy">Implementation Strategy<a href="#implementation-strategy" class="hash-link" aria-label="Direct link to Implementation Strategy" title="Direct link to Implementation Strategy">​</a></h3>
<ol>
<li><strong>Audit Current Configuration</strong></li>
</ol>
<p>Use the following SOQL queries to audit your agent configurations and identify optimization opportunities:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="query-1-topic-descriptions-analysis">Query 1: Topic Descriptions Analysis<a href="#query-1-topic-descriptions-analysis" class="hash-link" aria-label="Direct link to Query 1: Topic Descriptions Analysis" title="Direct link to Query 1: Topic Descriptions Analysis">​</a></h4>
<p><strong>Purpose</strong>: Identify topics with verbose descriptions that are sent during Query Evaluation (Stage 2).</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DeveloperName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MasterLabel</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Scope</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Planner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DeveloperName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> GenAiPluginDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> PluginType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Topic&#x27;</span><br></span></code></pre></div></div>
<p><strong>What to look for:</strong></p>
<ul>
<li>Topics with <code>EstimatedTokens</code> &gt; 50 (200+ characters) are candidates for optimization</li>
<li>Focus on topics with highest token counts first</li>
<li>Compare <code>Description</code> vs <code>Scope</code> - if they&#x27;re similar, consider consolidating</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="query-2-action-descriptions-analysis">Query 2: Action Descriptions Analysis<a href="#query-2-action-descriptions-analysis" class="hash-link" aria-label="Direct link to Query 2: Action Descriptions Analysis" title="Direct link to Query 2: Action Descriptions Analysis">​</a></h4>
<p><strong>Purpose</strong>: Identify actions with verbose descriptions that are sent during Query Planning (Stage 4).</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Select</span><span class="token plain"> DeveloperName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MasterLabel</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> InvocationTargetType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> LastModifiedDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MasterLabel </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> GenAiFunctionDefinition </span><span class="token keyword" style="color:#00009f">order</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> LastModifiedDate </span><span class="token keyword" style="color:#00009f">desc</span><br></span></code></pre></div></div>
<p><strong>What to look for:</strong></p>
<ul>
<li>Actions with <code>EstimatedTokens</code> &gt; 15 (60+ characters) are candidates for optimization</li>
<li>Group by <code>TopicName</code> to see which topics have the most verbose actions</li>
<li>Consider actions used frequently (cross-reference with usage data)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="query-3-instructions-analysis">Query 3: Instructions Analysis<a href="#query-3-instructions-analysis" class="hash-link" aria-label="Direct link to Query 3: Instructions Analysis" title="Direct link to Query 3: Instructions Analysis">​</a></h4>
<p><strong>Purpose</strong>: Identify topics with verbose instructions that are sent during Query Planning (Stage 4).</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> GenAiPluginDefinition</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PLanner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DeveloperName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">GenAiPluginDefinition</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DeveloperName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DeveloperName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">Language</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MasterLabel</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">NamespacePrefix</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">LastModifiedDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">SortOrder </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> GenAiPluginInstructionDef</span><br></span></code></pre></div></div>
<p><strong>What to look for:</strong></p>
<ul>
<li>Instructions with <code>EstimatedTokens</code> &gt; 20 (80+ characters) are candidates for optimization</li>
<li>Group by <code>TopicName</code> to see which topics have the most verbose instructions</li>
<li>Consider instructions used frequently (cross-reference with usage data)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="query-4-configuration-summary-by-agent">Query 4: Configuration Summary by Agent<a href="#query-4-configuration-summary-by-agent" class="hash-link" aria-label="Direct link to Query 4: Configuration Summary by Agent" title="Direct link to Query 4: Configuration Summary by Agent">​</a></h4>
<p><strong>Purpose</strong>: Get a summary view of configuration size per agent.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Planner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DeveloperName </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> AgentName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Planner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MasterLabel </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> AgentLabel</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> TopicCount</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">AVG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Description</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> AvgTopicDescriptionLength</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Description</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> TotalTopicDescriptionLength</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> GenAiPluginDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> PluginType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Topic&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> Planner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DeveloperName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Planner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MasterLabel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> TotalTopicDescriptionLength </span><span class="token keyword" style="color:#00009f">DESC</span><br></span></code></pre></div></div>
<p><strong>What to look for:</strong></p>
<ul>
<li>Agents with high <code>TotalTopicDescriptionLength</code> have the most verbose configurations</li>
<li>High <code>AvgTopicDescriptionLength</code> indicates consistently verbose topics</li>
<li>Focus optimization on agents with highest totals</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="query-5-action-summary-by-topic">Query 5: Action Summary by Topic<a href="#query-5-action-summary-by-topic" class="hash-link" aria-label="Direct link to Query 5: Action Summary by Topic" title="Direct link to Query 5: Action Summary by Topic">​</a></h4>
<p><strong>Purpose</strong>: Identify topics with many verbose actions.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MasterLabel </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> TopicName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DeveloperName </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> TopicDeveloperName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> ActionCount</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">AVG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Description</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> AvgActionDescriptionLength</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Description</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> TotalActionDescriptionLength</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Description</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> EstimatedTokensPerTopic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> GenAiFunctionDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> Description </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> Plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MasterLabel</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DeveloperName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> EstimatedTokensPerTopic </span><span class="token keyword" style="color:#00009f">DESC</span><br></span></code></pre></div></div>
<p><strong>What to look for:</strong></p>
<ul>
<li>Topics with high <code>EstimatedTokensPerTopic</code> add significant tokens during Stage 4</li>
<li>Topics with many actions (<code>ActionCount</code>) multiplied by average length show optimization potential</li>
<li>Prioritize topics with both high action count and high average description length</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="query-6-complete-configuration-audit">Query 6: Complete Configuration Audit<a href="#query-6-complete-configuration-audit" class="hash-link" aria-label="Direct link to Query 6: Complete Configuration Audit" title="Direct link to Query 6: Complete Configuration Audit">​</a></h4>
<p><strong>Purpose</strong>: Comprehensive view combining topics and actions for a specific agent.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- First, get the agent&#x27;s PlannerId, then run:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Topics for the agent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;Topic&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> ComponentType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DeveloperName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MasterLabel</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Scope</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Description</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">COALESCE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Scope</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> TotalLength</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Description</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">COALESCE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Scope</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> EstimatedTokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> GenAiPluginDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> PlannerId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;YOUR_PLANNER_ID&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> PluginType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Topic&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">UNION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Actions for the agent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;Action&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> ComponentType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DeveloperName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MasterLabel</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token boolean" style="color:#36acaa">null</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> Scope</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Description</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> TotalLength</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LENGTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Description</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> EstimatedTokens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> GenAiFunctionDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> PlannerId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;YOUR_PLANNER_ID&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> Description </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> EstimatedTokens </span><span class="token keyword" style="color:#00009f">DESC</span><br></span></code></pre></div></div>
<p><strong>Usage:</strong></p>
<ol>
<li>Replace <code>&#x27;YOUR_PLANNER_ID&#x27;</code> with your agent&#x27;s PlannerId</li>
<li>Review results sorted by <code>EstimatedTokens</code> to identify largest contributors</li>
<li>Focus optimization on components with highest token counts</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="calculating-token-estimates">Calculating Token Estimates<a href="#calculating-token-estimates" class="hash-link" aria-label="Direct link to Calculating Token Estimates" title="Direct link to Calculating Token Estimates">​</a></h4>
<p><strong>Token Estimation Formula:</strong></p>
<ul>
<li>Approximate: 1 token ≈ 4 characters (varies by language and content)</li>
<li>More accurate: Use OpenAI&#x27;s tokenizer or similar tools for exact counts</li>
<li>For quick estimates: <code>CHARACTER_COUNT / 4</code></li>
</ul>
<p><strong>Example Calculation:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Description: &quot;This topic handles customer inquiries about order status...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Length: 120 characters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Estimated Tokens: 120 / 4 = 30 tokens</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="identifying-largest-contributors">Identifying Largest Contributors<a href="#identifying-largest-contributors" class="hash-link" aria-label="Direct link to Identifying Largest Contributors" title="Direct link to Identifying Largest Contributors">​</a></h4>
<p>After running the queries:</p>
<ol>
<li>
<p><strong>Export Results</strong>: Export query results to CSV for analysis</p>
</li>
<li>
<p><strong>Sort by Tokens</strong>: Identify components with highest <code>EstimatedTokens</code></p>
</li>
<li>
<p><strong>Calculate Impact</strong>: Multiply token count by usage frequency</p>
<ul>
<li>High-frequency topics/actions have more impact</li>
<li>Cross-reference with Token Usage Report usage data</li>
</ul>
</li>
<li>
<p><strong>Prioritize</strong>: Focus on:</p>
<ul>
<li>Components with highest token counts</li>
<li>Components used most frequently</li>
<li>Components with both high tokens AND high usage</li>
</ul>
</li>
<li>
<p><strong>Prioritize Optimization</strong></p>
<ul>
<li>Start with topics/actions used most frequently</li>
<li>Focus on verbose descriptions first</li>
<li>Remove redundancy and examples</li>
</ul>
</li>
<li>
<p><strong>Test Incrementally</strong></p>
<ul>
<li>Optimize one component at a time</li>
<li>Test quality scores after each change</li>
<li>Monitor feedback to ensure quality maintained</li>
</ul>
</li>
<li>
<p><strong>Measure Impact</strong></p>
<ul>
<li>Compare token usage before/after in Token Usage Report</li>
<li>Track CO2 emissions reduction</li>
<li>Verify quality scores remain stable or improve</li>
</ul>
</li>
<li>
<p><strong>Document Best Practices</strong></p>
<ul>
<li>Create templates for concise descriptions</li>
<li>Share optimized examples with team</li>
<li>Establish guidelines for future configurations</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-takeaways">Key Takeaways<a href="#key-takeaways" class="hash-link" aria-label="Direct link to Key Takeaways" title="Direct link to Key Takeaways">​</a></h3>
<ul>
<li><strong>Every token counts</strong>: Reducing baseline prompt size has multiplicative impact</li>
<li><strong>Quality can improve</strong>: Clearer, more focused prompts often perform better</li>
<li><strong>Easy wins</strong>: Many optimizations require no code changes, just configuration edits</li>
<li><strong>Measure everything</strong>: Use Token Usage Report to track impact of optimizations</li>
</ul>
<p><strong>For Priority 2 (High CO2 + High Quality + Good Feedback):</strong></p>
<ol>
<li><strong>Incremental Optimization</strong>
<ul>
<li>Test if quality can be maintained with lower-cost models</li>
<li>Monitor for gradual improvements</li>
<li>Document acceptable trade-offs</li>
</ul>
</li>
</ol>
<p><strong>For Priority 3 (Low CO2 + High Quality + Good Feedback):</strong></p>
<ol>
<li><strong>Best Practice Documentation</strong>
<ul>
<li>Document what makes these agents successful</li>
<li>Replicate patterns in other agents</li>
<li>Scale usage where appropriate</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phase-4-measure-impact-ongoing">Phase 4: Measure Impact (Ongoing)<a href="#phase-4-measure-impact-ongoing" class="hash-link" aria-label="Direct link to Phase 4: Measure Impact (Ongoing)" title="Direct link to Phase 4: Measure Impact (Ongoing)">​</a></h3>
<p><strong>Objective</strong>: Track progress and validate improvements</p>
<ol>
<li>
<p><strong>Weekly Monitoring</strong></p>
<ul>
<li>Review &quot;CO2 by Agents/Week&quot; for trends</li>
<li>Check quality scores haven&#x27;t degraded</li>
<li>Monitor feedback ratios</li>
</ul>
</li>
<li>
<p><strong>Before/After Comparison</strong></p>
<ul>
<li>Compare current metrics to baseline</li>
<li>Calculate percentage improvements</li>
<li>Document successes and challenges</li>
</ul>
</li>
<li>
<p><strong>Iterative Improvement</strong></p>
<ul>
<li>Adjust strategies based on results</li>
<li>Refine optimization approaches</li>
<li>Share learnings across teams</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phase-5-report--communicate-monthly">Phase 5: Report &amp; Communicate (Monthly)<a href="#phase-5-report--communicate-monthly" class="hash-link" aria-label="Direct link to Phase 5: Report &amp; Communicate (Monthly)" title="Direct link to Phase 5: Report &amp; Communicate (Monthly)">​</a></h3>
<p><strong>Objective</strong>: Demonstrate progress and value</p>
<ol>
<li>
<p><strong>Create Sustainability Reports</strong></p>
<ul>
<li>Total CO2 reduction achieved</li>
<li>Quality maintained or improved</li>
<li>User satisfaction maintained</li>
<li>Cost savings (if applicable)</li>
</ul>
</li>
<li>
<p><strong>Tell the Story</strong></p>
<ul>
<li>Show before/after comparisons</li>
<li>Highlight successful optimizations</li>
<li>Demonstrate business value maintained</li>
</ul>
</li>
<li>
<p><strong>Set New Targets</strong></p>
<ul>
<li>Based on progress, set new goals</li>
<li>Continue iterative improvement</li>
<li>Scale successful patterns</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="practical-example-sustainability-initiative">Practical Example: Sustainability Initiative<a href="#practical-example-sustainability-initiative" class="hash-link" aria-label="Direct link to Practical Example: Sustainability Initiative" title="Direct link to Practical Example: Sustainability Initiative">​</a></h2>
<p><strong>Scenario</strong>: A sustainability team needs to reduce AI CO2 emissions by 40% while maintaining quality standards.</p>
<p><strong>Week 1: Baseline</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Agent A: 200g CO2/week, Quality: 3.3/5, Feedback: 60% negative</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Agent B: 150g CO2/week, Quality: 4.1/5, Feedback: 85% positive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Agent C: 100g CO2/week, Quality: 3.9/5, Feedback: 75% positive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Total: 450g CO2/week</span><br></span></code></pre></div></div>
<p><strong>Week 2: Analysis</strong></p>
<ul>
<li><strong>Agent A</strong>: High CO2 + Low Quality + Poor Feedback → Priority 1 (Optimize Immediately)</li>
<li><strong>Agent B</strong>: High CO2 + High Quality + Good Feedback → Priority 2 (Acceptable Trade-off)</li>
<li><strong>Agent C</strong>: Low CO2 + High Quality + Good Feedback → Priority 3 (Model Example)</li>
</ul>
<p><strong>Weeks 3-6: Optimization</strong></p>
<ul>
<li><strong>Agent A</strong>: Switched to GPT-4o Mini, optimized prompts, refined topics<!-- -->
<ul>
<li>Result: 80g CO2/week (60% reduction), Quality: 3.5/5, Feedback: 70% positive</li>
</ul>
</li>
<li><strong>Agent B</strong>: Tested GPT-4o Mini, maintained quality<!-- -->
<ul>
<li>Result: 90g CO2/week (40% reduction), Quality: 4.0/5, Feedback: 82% positive</li>
</ul>
</li>
<li><strong>Agent C</strong>: Documented best practices, no changes needed</li>
</ul>
<p><strong>Week 8: Results</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Agent A: 80g CO2/week, Quality: 3.5/5, Feedback: 70% positive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Agent B: 90g CO2/week, Quality: 4.0/5, Feedback: 82% positive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Agent C: 100g CO2/week, Quality: 3.9/5, Feedback: 75% positive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Total: 270g CO2/week (40% reduction achieved!)</span><br></span></code></pre></div></div>
<p><strong>Outcome</strong>:</p>
<ul>
<li>✅ 40% CO2 reduction achieved</li>
<li>✅ Quality maintained or improved</li>
<li>✅ User satisfaction improved</li>
<li>✅ Business value preserved</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-benefits">Key Benefits<a href="#key-benefits" class="hash-link" aria-label="Direct link to Key Benefits" title="Direct link to Key Benefits">​</a></h2>
<ol>
<li><strong>Data-Driven Decisions</strong>: Make optimization decisions based on complete data, not just emissions</li>
<li><strong>Value Preservation</strong>: Ensure sustainability efforts don&#x27;t sacrifice quality or user satisfaction</li>
<li><strong>Progress Tracking</strong>: Measure and report on sustainability progress with concrete metrics</li>
<li><strong>Stakeholder Communication</strong>: Demonstrate that sustainability goals are achieved while maintaining business value</li>
<li><strong>Continuous Improvement</strong>: Iterative methodology enables ongoing optimization</li>
<li><strong>Risk Mitigation</strong>: Identify and address issues before they become problems</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reporting-templates">Reporting Templates<a href="#reporting-templates" class="hash-link" aria-label="Direct link to Reporting Templates" title="Direct link to Reporting Templates">​</a></h2>
<p><strong>Monthly Sustainability Report Structure:</strong></p>
<ol>
<li>
<p><strong>Executive Summary</strong></p>
<ul>
<li>Total CO2 reduction achieved</li>
<li>Quality metrics maintained</li>
<li>User satisfaction levels</li>
</ul>
</li>
<li>
<p><strong>Agent-Level Analysis</strong></p>
<ul>
<li>CO2 emissions by agent (before/after)</li>
<li>Quality score changes</li>
<li>Feedback ratio changes</li>
<li>Optimization actions taken</li>
</ul>
</li>
<li>
<p><strong>Trend Analysis</strong></p>
<ul>
<li>Weekly CO2 trends</li>
<li>Quality score trends</li>
<li>Feedback trends</li>
</ul>
</li>
<li>
<p><strong>Success Stories</strong></p>
<ul>
<li>Highlight successful optimizations</li>
<li>Document best practices</li>
<li>Share learnings</li>
</ul>
</li>
<li>
<p><strong>Next Steps</strong></p>
<ul>
<li>Future optimization targets</li>
<li>Planned improvements</li>
<li>Resource requirements</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-resources">Related Resources<a href="#related-resources" class="hash-link" aria-label="Direct link to Related Resources" title="Direct link to Related Resources">​</a></h2>
<ul>
<li><a href="/genai/token-usage-report">Token Usage Report</a> - Main documentation</li>
<li><a href="/genai/einstein-model-testing">Einstein Model Testing</a> - Test and compare models for efficiency</li>
<li><a href="/genai/data-cloud-integration">Data Cloud Integration</a> - Query and analyze AI data</li>
</ul>
<hr>
<p><strong>Back to</strong>: <a href="/genai/token-usage-report">Token Usage Report</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/sf-explorer/documentation/tree/master/genai/Features/9-token-usage-report-sustainability.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-02-20T17:25:27.000Z" itemprop="dateModified">Feb 20, 2026</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/genai/prompt-builder/best-practices"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Best Practices</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/genai/token-usage-report"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Token Usage Report</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-challenge-beyond-simple-metrics" class="table-of-contents__link toc-highlight">The Challenge: Beyond Simple Metrics</a></li><li><a href="#our-holistic-approach" class="table-of-contents__link toc-highlight">Our Holistic Approach</a></li><li><a href="#methodology-from-theory-to-practice" class="table-of-contents__link toc-highlight">Methodology: From Theory to Practice</a></li><li><a href="#step-by-step-process" class="table-of-contents__link toc-highlight">Step-by-Step Process</a><ul><li><a href="#phase-1-establish-baseline-week-1" class="table-of-contents__link toc-highlight">Phase 1: Establish Baseline (Week 1)</a></li><li><a href="#phase-2-analyze-correlations-week-2" class="table-of-contents__link toc-highlight">Phase 2: Analyze Correlations (Week 2)</a></li><li><a href="#phase-3-implement-optimizations-weeks-3-8" class="table-of-contents__link toc-highlight">Phase 3: Implement Optimizations (Weeks 3-8)</a></li></ul></li><li><a href="#baseline-optimization-reducing-prompt-size" class="table-of-contents__link toc-highlight">Baseline Optimization: Reducing Prompt Size</a><ul><li><a href="#how-configuration-is-sent-to-the-llm" class="table-of-contents__link toc-highlight">How Configuration is Sent to the LLM</a></li><li><a href="#the-problem-prompt-bloat" class="table-of-contents__link toc-highlight">The Problem: Prompt Bloat</a></li><li><a href="#solution-optimize-baseline-configuration" class="table-of-contents__link toc-highlight">Solution: Optimize Baseline Configuration</a></li><li><a href="#real-world-example-optimization-impact" class="table-of-contents__link toc-highlight">Real-World Example: Optimization Impact</a></li><li><a href="#implementation-strategy" class="table-of-contents__link toc-highlight">Implementation Strategy</a></li><li><a href="#key-takeaways" class="table-of-contents__link toc-highlight">Key Takeaways</a></li><li><a href="#phase-4-measure-impact-ongoing" class="table-of-contents__link toc-highlight">Phase 4: Measure Impact (Ongoing)</a></li><li><a href="#phase-5-report--communicate-monthly" class="table-of-contents__link toc-highlight">Phase 5: Report &amp; Communicate (Monthly)</a></li></ul></li><li><a href="#practical-example-sustainability-initiative" class="table-of-contents__link toc-highlight">Practical Example: Sustainability Initiative</a></li><li><a href="#key-benefits" class="table-of-contents__link toc-highlight">Key Benefits</a></li><li><a href="#reporting-templates" class="table-of-contents__link toc-highlight">Reporting Templates</a></li><li><a href="#related-resources" class="table-of-contents__link toc-highlight">Related Resources</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/salesforce-explorer/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@SFExplorer" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube Channel<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Apps</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://app.sf-explorer.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Web<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://chromewebstore.google.com/detail/sf-explorer/eabpolgjfkpchgffbkiedgfemcgbnbde" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chrome<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://microsoftedge.microsoft.com/addons/detail/sf-explorer/poadmeoldhchlfeaiicmfjlfjmkjbgdh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Edge<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made by Nicolas Despres while discovering salesforce ecosystem</div></div></div></footer></div>
</body>
</html>